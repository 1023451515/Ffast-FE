webpackJsonp([8],{CNd5:function(e,a,t){"use strict";function l(e){t("LpPj")}Object.defineProperty(a,"__esModule",{value:!0});var n=t("mvHQ"),i=t.n(n),d=t("woOf"),o=t.n(d),r=t("bGai"),s=t("X2Oc"),p=null,m=[[{name:"id",hidden:!0},{name:"columnName",hidden:!0},{name:"dataType",hidden:!0},{name:"ordinalPosition",hidden:!0},{name:"span",type:"number",span:24,value:6,label:"格数"},{name:"name",type:"text",span:24,label:"标题"},{name:"formType",type:"select",span:24,label:"表单类型",data:[{label:"text",value:1},{label:"number",value:2},{label:"select",value:3},{label:"radio",value:4},{label:"treeSelect",value:5},{label:"date",value:6},{label:"dateTime",value:7},{label:"datetimerange",value:8},{label:"switch",value:9},{label:"imgUpload",value:10},{label:"title",value:11}],onChange:function(e,a,t){p.$set(t.min,"hidden",!0),p.$set(t.max,"hidden",!0),2===e.value&&(p.$set(t.min,"hidden",!1),p.$set(t.max,"hidden",!1))}},{name:"max",type:"number",span:24,hidden:!0,label:"最大值"},{name:"min",type:"number",span:24,hidden:!0,label:"最小值"}]],b={selection:[],param:{},height:400,columns:[{key:"ordinalPosition",title:"排序",width:80},{key:"span",title:"格数",width:70},{key:"dataType",title:"数据库字段类型",width:160},{key:"name",title:"标题",width:260},{key:"formType",title:"表单类型",width:120,data:[{label:"text",id:1},{value:"number",id:2},{value:"select",id:3},{value:"radio",id:4},{value:"treeSelect",id:5},{value:"date",id:6},{value:"dateTime",id:7},{value:"datetimerange",id:8},{value:"switch",id:9},{value:"imgUpload",id:10},{value:"title",id:11}]},{key:"enumData",title:"枚举数据",width:120},{key:"",title:"操作",width:120,render:function(e,a){var t=a.row;return e("div",null,[e("i-button",{props:{size:"small"},on:{click:function(e,a){console.log(e,a),p.$refs.tableFormPopupEdit.open({title:"编辑",postUrl:null},t),p.$refs.tableFormPopupEdit.setSubmitBeforeCallBack(function(e){console.log(e),p.$refs["t2"===p.curTab?"tableSearch":"tableEdit"].insertOrUpdateData(e),p.$refs.tableFormPopupEdit.close()})}}},"编辑")," ",e("i-button",{props:{size:"small"},on:{click:function(){console.log(a),alert(p.curTab),p.$refs["t2"===p.curTab?"tableSearch":"tableEdit"].delData(a.index)}}},"删除")])}}]},c=[[{name:"id",hidden:!0},{name:"columnName",hidden:!0},{name:"columnType",hidden:!0},{name:"ordinalPosition",hidden:!0},{name:"name",type:"text",span:24,label:"标题"},{name:"width",type:"number",span:24,label:"宽度"},{name:"dataType",type:"select",span:24,label:"显示类型",data:[{label:"绑定枚举",value:1},{label:"绑定字典",value:2},{label:"绑定左边树",value:3},{label:"查看图片",value:4}],onChange:function(e,a,t){p.$set(t.dictType,"hidden",!0),2===e.value&&p.$set(t.dictType,"hidden",!1)}},{name:"dictType",type:"text",span:24,hidden:!0,label:"字典类型"}]],u={CRUD_SIMPLE:{id:0,name:"简单增删改页面"},CRUD_TABLE:{id:1,name:"表格增删改页面"},CRUD_TREEANDTABLE:{id:2,name:"表格&树增删改页面"},CRUD_TREE:{id:3,name:"树增删改页面"}},y=[[{name:"table",type:"select",span:6,label:"生成表",model:12,dataUrl:"/generator/table/list",textField:"tableName",valField:"tableName",onChange:function(e){console.log(e),p.$refs.generatorDynamic.setFormData({title:e.tableComment.replace("_","")}),p.$http.apiPost("/generator/table/columns",{tableName:e.tableName}).then(function(e){e.data.rows.forEach(function(e,a){e.id=a,e.name=s.a.camelCase(e.columnComment),e.width=100,e.span=6,p.$refs.table.insertOrUpdateData(e),p.$refs.tableEdit.insertOrUpdateData(e),p.$refs.tableSearch.insertOrUpdateData(e)})})}},{name:"title",type:"text",span:6,label:"模块名称"},{name:"pageTypeList",type:"radio",span:12,value:1,hidden:!0,label:"页面模板",data:function(){var e=[];for(var a in o()(u))e.push({label:u[a].name,id:u[a].id});return e}(),onChange:function(e){p.pageType=e}}]],h=[[{name:"height",type:"number",span:4,label:"高度"},{name:"pageSize",type:"number",span:4,label:"每页数量",value:20}]],f=[[{name:"height",type:"number",span:4,label:"表格高度"},{name:"pageSize",type:"number",span:4,label:"每页数量",value:20}]],v=[[{name:"editType",type:"radio",span:6,value:0,label:"编辑表单方式",data:[{label:"弹出式",value:0},{label:"跳转式",value:1}],onChange:function(e,a,t){1===e?p.$set(t.width,"hidden",!0):p.$set(t.width,"hidden",!1)}},{name:"labelWidth",type:"number",span:6,label:"标签宽度",value:100},{name:"width",type:"number",span:6,label:"表单宽度",value:800}]],g={selection:[],param:{},height:400,columns:[{key:"ordinalPosition",title:"排序",width:80},{key:"columnName",title:"字段名",width:160},{key:"dataType",title:"字段类型",width:160},{key:"name",title:"标题",width:160},{key:"dataType",title:"显示类型",width:160,enum:[{value:"绑定枚举",id:1},{value:"绑定字典",id:2},{value:"绑定左边树",id:3},{value:"查看图片",id:4}]},{key:"width",title:"宽度",width:80},{key:"columnType",title:"枚举数据",width:120},{key:"",title:"操作",width:120,render:function(e,a){var t=a.row;return e("div",null,[e("i-button",{props:{size:"small"},on:{click:function(){p.$refs.tablePopupEdit.open({title:"编辑",postUrl:null},t),p.$refs.tablePopupEdit.setSubmitBeforeCallBack(function(e){console.log(e),p.$refs.table.insertOrUpdateData(e),p.$refs.tablePopupEdit.close()})}}},"编辑")," ",e("i-button",{props:{size:"small"},on:{click:function(){console.log(a),p.$refs.table.delData(a.index)}}},"删除")])}}]},T={data:function(){return{dbTable:null,PageTypeList:u,pageType:1,pageOptions:{},tableOptions:g,generatorDynamic:y,tableEditOptions:b,dynamic1:h,dynamic2:f,dynamic3:v,tableDynamic:c,tableFormDynamic:m,curTab:"t1"}},computed:{},methods:{tableSuccess:function(e){console.log(e)},save:function(){alert(i()(this.$refs.dynamic.getData())),alert(i()(this.$refs.generatorDynamic.getData())),alert(i()(this.$refs.dynamic3.getData())),alert(i()(this.$refs.tableSearch.getData())),alert(i()(this.$refs.tableEdit.getData())),alert(i()(this.$refs.table.getData()))}},mounted:function(){p=this},components:{DataSelect:r.e,LocalTable:r.k,FormDynamic:r.h,PopupEdit:r.p}},w=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"main-view main-view-full",staticStyle:{"padding-top":"50px"}},[t("row",{staticStyle:{height:"700px"}},[t("i-col",{attrs:{span:"18"}},[t("formDynamic",{ref:"generatorDynamic",attrs:{data:e.generatorDynamic,"label-width":100}}),e._v(" "),t("Tabs",{model:{value:e.curTab,callback:function(a){e.curTab=a},expression:"curTab"}},[t("TabPane",{attrs:{label:"表格参数",name:"t1",disabled:1!=e.pageType&&2!=e.pageType}},[t("formDynamic",{ref:"dynamic",attrs:{data:e.dynamic1,"label-width":100}}),e._v(" "),t("LocalTable",{ref:"table",attrs:{tableOptions:e.tableOptions}}),e._v(" "),t("PopupEdit",{ref:"tablePopupEdit",attrs:{width:450,dynamic:e.tableDynamic,"label-width":100}})],1),e._v(" "),t("TabPane",{attrs:{label:"搜索参数",name:"t2",disabled:0==e.pageType}},[t("LocalTable",{ref:"tableSearch",attrs:{tableOptions:e.tableEditOptions}})],1),e._v(" "),t("TabPane",{attrs:{label:"表格表单参数",name:"t3"}},[t("formDynamic",{ref:"dynamic3",attrs:{data:e.dynamic3,"label-width":100}}),e._v(" "),t("LocalTable",{ref:"tableEdit",attrs:{tableOptions:e.tableEditOptions}}),e._v(" "),t("PopupEdit",{ref:"tableFormPopupEdit",attrs:{width:450,dynamic:e.tableFormDynamic,"label-width":100}})],1),e._v(" "),t("TabPane",{attrs:{label:"树参数",name:"t4",disabled:3!=e.pageType&&4!=e.pageType}},[t("formDynamic",{ref:"dynamic4",attrs:{data:e.dynamic3,"label-width":100}}),e._v(" "),t("LocalTable",{attrs:{tableOptions:e.tableEditOptions}})],1),e._v(" "),t("TabPane",{attrs:{label:"树表单参数",name:"t4",disabled:3!=e.pageType&&4!=e.pageType}},[t("formDynamic",{ref:"dynamic6",attrs:{data:e.dynamic3,"label-width":100}}),e._v(" "),t("LocalTable",{attrs:{tableOptions:e.tableEditOptions}})],1)],1)],1),e._v(" "),t("i-col",{attrs:{span:"6"}})],1),e._v(" "),t("row",[t("i-col",{attrs:{span:"24"}},[t("i-button",{attrs:{type:"ghost",icon:"folder"},on:{click:e.save}},[e._v("\n        保 存\n      ")]),e._v(" "),t("i-button",{attrs:{type:"ghost",icon:"eye"},on:{click:e.show}},[e._v("\n        预 览\n      ")])],1)],1)],1)},D=[],E={render:w,staticRenderFns:D},$=E,k=t("VU/8"),P=l,_=k(T,$,!1,P,"data-v-f16b4c32",null);a.default=_.exports},LpPj:function(e,a,t){var l=t("ggQF");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);t("rjj0")("606dea7d",l,!0,{})},ggQF:function(e,a,t){a=e.exports=t("FZ+f")(!1),a.push([e.i,"",""])}});